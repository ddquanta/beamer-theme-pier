\mode<presentation>

% Frame title
\defbeamertemplate*{frametitle}{PIER}[1][]{
  \begin{beamercolorbox}[wd=\paperwidth, ht=1.5cm]{frametitle}
    \begin{tikzpicture}
      \useasboundingbox[] (0, 0) rectangle (\paperwidth, 1.2);
      \node[inner sep=0, outer sep=0, anchor=south west] at (0.5cm, 0cm) {\includegraphics[height=1.2cm]{resources/pier-logo.pdf}};
      \ifx\insertframesubtitle\@empty%
        {\node[anchor=east, font=\LARGE, align=right] at (\paperwidth - 0.5cm,  0.61){\insertframetitle};}
      \else%
        {\node[anchor=east, font=\Large] at (\paperwidth - 0.5cm, 0.81){\insertframetitle};%
        \node[anchor=east, font=\small, text=subtitle.fg] at (\paperwidth - 0.5cm, 0.41){\insertframesubtitle};}%
      \fi
    \end{tikzpicture}
  \end{beamercolorbox}
}

% Footline
\newlength{\pnumwd}
\setlength{\pnumwd}{.05\paperwidth} 
\newlength{\sepwd}
\setlength{\sepwd}{1.0ex} 
\newlength{\authorwd}
\newlength{\authpadL}
\newlength{\authpadR}
\setlength{\authpadL}{2.0ex}
\setlength{\authpadR}{1.0ex}

\defbeamertemplate*{footline}{PIER}{%
  \leavevmode%
  % Measure author (with padding).
  \settowidth{\authorwd}{%
    \usebeamerfont{author in head/foot}%
    \hspace*{\authpadL}%
    \insertshortauthor\expandafter\ifblank\expandafter{\beamer@shortinstitute}{}{~~(\insertshortinstitute)}%
    \hspace*{\authpadR}%
  }%
  % Remaining width for section.
  \dimen0=\dimexpr \paperwidth - \pnumwd - \authorwd - \sepwd \relax
  \ifdim\dimen0<1pt \dimen0=1pt\fi

  \hbox{%
    % (1) Author box.
    \begin{beamercolorbox}[wd=\authorwd, ht=2.25ex, dp=1ex, left]{author in head/foot}%
      \usebeamerfont{author in head/foot}%
      \hspace*{\authpadL}%
      \insertshortauthor\expandafter\ifblank\expandafter{\beamer@shortinstitute}{}{~~(\insertshortinstitute)}%
      \hspace*{\authpadR}%
    \end{beamercolorbox}%
    % Orange separator.
    \begin{beamercolorbox}[wd=\sepwd, ht=2.25ex, dp=1ex]{sep}\end{beamercolorbox}%
    % (2) Section box, fills the remaining space.
    \begin{beamercolorbox}[wd=\dimen0, ht=2.25ex, dp=1ex, left]{title in head/foot}%
      \usebeamerfont{title in head/foot}\hspace*{1ex}\insertsection
    \end{beamercolorbox}%
    % (3) Page box, fixed width.
    \begin{beamercolorbox}[wd=\pnumwd, ht=2.25ex, dp=1ex, left]{page number in head/foot}%
      \hbox to \linewidth{%
        \hfil{\usebeamerfont{page number in head/foot}\usebeamercolor[fg]{page number in head/foot}%
        \usebeamertemplate{page number in head/foot}}\hspace*{2ex}%
      }%
    \end{beamercolorbox}%
  }%
  \vskip 0pt%
}

\mode<all>